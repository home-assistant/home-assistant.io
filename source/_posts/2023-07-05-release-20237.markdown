---
layout: post
title: "2023.7: Responding services"
description: "Services can now respond with data, new dialog for lock, sentence triggers, fewer breaking changes, Bluetooth proxies are now the fastest option, copy 'n paste in dashboards, brand new image entities, an dashboard action to open assist, climate support for Matter, and more!"
date: 2023-07-05 00:00:00
date_formatted: "July 5, 2023"
author: Franck Nijhof
author_twitter: frenck
comments: true
categories:
  - Release-Notes
  - Core
og_image: /images/blog/2023-07/social.png
---

<a href='/integrations/#version/2023.7'><img src='/images/blog/2023-07/social.png' style='border: 0;box-shadow: none;'></a>

<!-- BELOW NEEDS TO BE REMOVED BEFORE THE RELEASE -->

These are the beta release notes for Home Assistant Core 2023.7 (and is thus a
work in progress).

If you encounter any issues with the beta release, please report them on GitHub:

- Issues with integrations, automations and such (Core related):<br>
  <https://github.com/home-assistant/core/issues>
- Issues with the frontend/UI/dashboards:<br>
  <https://github.com/home-assistant/frontend/issues>
- Issues with the Supervisor:<br>
  <https://github.com/home-assistant/supervisor/issues>
- Issues with the documentation:<br>
  <https://github.com/home-assistant/home-assistant.io/issues>

Please be sure to include the beta version you are running in the issue
version field (not title), so we can classify your issue correctly.

Issues introduced in the beta are processed with priority.

---

<!-- ABOVE NEEDS TO BE REMOVED BEFORE THE RELEASE -->

Home Assistant Core 2023.7! üéâ

Thanks for helping out testing the beta! ‚ù§Ô∏è

Enjoy the (beta) release!

../Frenck

<!--more-->

- [Services call can now respond](#services-call-can-now-respond)
- [New entity dialog for Locks](#new-entity-dialog-for-locks)
- [Open assist action](#open-assist-action)
- [Sentence trigger](#sentence-trigger)
- [Image entities](#image-entities)
- [Copy 'n paste support in dashboards](#copy-n-paste-support-in-dashboards)
- [New script dialog](#new-script-dialog)
- [Select timezone to use/display](#select-timezone-to-usedisplay)
- [Iteration on the integrations dashboard](#iteration-on-the-integrations-dashboard)
- [Reducing the risk of running into breaking changes](#reducing-the-risk-of-running-into-breaking-changes)
- [Unavailable automations and scripts](#unavailable-automations-and-scripts)
- [Lightning fast Bluetooth proxies](#lightning-fast-bluetooth-proxies)
- [Matter updates](#matter-updates)
- [Other noteworthy changes](#other-noteworthy-changes)
- [New integrations](#new-integrations)
- [Integrations now available to set up from the UI](#integrations-now-available-to-set-up-from-the-ui)
- [Need help? Join the community!](#need-help-join-the-community)
- [Breaking changes](#breaking-changes)
- [Farewell to the following](#farewell-to-the-following)
- [All changes](#all-changes)

Don't forget to [join our release party live stream on YouTube](https://www.youtube.com/watch?v=r0DLyU-4nWo)
5 July 2023, at 12:00 PDT / 21:00 CEST!

<lite-youtube videoid="r0DLyU-4nWo" videotitle="Home Assistant 2023.7 Release Party"></lite-youtube>

## Services call can now respond

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Add support for services to return data ([@allenporter] - [#94401]) ([google docs]) ([calendar docs]) (noteworthy)
- Allow scripts to capture service response data in variables ([@allenporter] - [#94757]) (noteworthy)
- Add return value to conversation.process service ([@balloob] - [#94740]) ([conversation docs]) (noteworthy)
- Add service response data for listing calendar events ([@allenporter] - [#94759]) ([calendar docs]) (noteworthy)
- Add service response support to dev tools (#17044) @bramkragten
- Add response variable support to service action (#17046) @bramkragten
- Add response UI to stop action (#17045) @bramkragten

{% enddetails %}

Services now can respond with data! üéâ

Yes, you read that right! This advanced feature is a huge step forward for
Home Assistant and will allow for a lot of new possibilities.

So, normally, calling a service in an automation or script, is a one-way
communication to control your devices and services. For example, turning on a
light, or play an announcement on your speakers.

So, what is the use of a service responding data? Well, it could be used to
ask for information from a device or service. For example, you could ask
Home Assistant which events are on your calendar today, and and use the
answer from that service call to create a notification or announcement.

<p class='img'>
<img src='https://media.discordapp.net/attachments/427516175237382144/1123597217622663278/CleanShot_2023-06-28_at_14.53.44.png?width=2422&height=1462'></a>
Temporary screenshot that needs to be replaced.
</p>

We have two brand new service to play with:

- {% my developer_call_service service="conversation.process" %} - This
  service allows you to ask Assist a command or question, and get a response
  back.
- {% my developer_call_service service="calendar.list_events" %} - This service
  allows you to ask Home Assistant for a list of events on your calendar.

If you combine those in an automation, in the morning, you could ask
Home Assistant for todays calendar events, add things like weather information,
send it to ChatGPT using the conversation proceess and ask it to summerize it,
and send a notification to your phone with the result.

[@allenporter] has put this all togther in this Blueprint to play with:

<https://gist.github.com/allenporter/e70d9eb090c7dbdd593cf526e07b4abe>

This is just one example, but the possibilities are endless! It is exciting
to see what other creative use cases and new services with response will
be added in the future!

This feature is also added to scripts! So, you can make your scripts
respond and use that script response in your automations. This is a great way
to make your scripts more dynamic and flexible.

A special thanks to [@allenporter], who has been responsible for building out
the larger part of this feature!

[@allenporter]: https://github.com/allenporter

## New entity dialog for Locks

We are continuing to improve the entity dialogs. This time, we have reworked
a new dialog for locks. It looks great!

It looks similar to the entity dialog for the switch, but it has a few
extra features like asking for a unlock code and has a beautiful animation
when it is (un)locking.

<img class="no-shadow" src='/images/blog/2023-07/entity-dialog-lock.gif' alt='Screen recording demonstrating the new lock entity dialog.'>

## Open assist action

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

* Open assist from dashboard (#16829) @piitaya

{% enddetails %}

For the Year of the Voice, a brand new action for use in dashboard cards has
been added: The Assist action!

<p class='img'>
<img src='https://user-images.githubusercontent.com/5878303/245445999-985c3a54-c951-40ad-9655-8c835ee6f578.png'></a>
Temporary screenshot that needs to be replaced.
</p>

With this brand new action, you can open Assist from your dashboards using, for
example, a button and even make Assist start listening right away. This can
be useful for use on a wall mounted tablet, for example.

<video width="640" height="600" controls>
  <source src="https://user-images.githubusercontent.com/5878303/244458907-5ef1b244-bef4-47bc-b180-74be2dc18c38.mp4" type="video/mp4">
</video>

## Sentence trigger

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Sentence trigger ([@synesthesiam] - [#94613]) ([conversation docs]) (noteworthy)
- Add UI for conversation trigger (#17037) @bramkragten

{% enddetails %}

Our [Assist](/voice_control/) is getting more and more powerful! This time,
we have added a new trigger to our automation editor that allows you to
trigger an automation when a sentence is said to the default Assist conversation
agent. ü§Ø

<p class='img'>
<img src='https://media.discordapp.net/attachments/427516175237382144/1123602503330701422/CleanShot_2023-06-28_at_15.14.55.png'></a>
Temporary screenshot that needs to be replaced.
</p>

Creating an automation based on something that was said, has never been easier.

## Image entities

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Add Guest WiFi QR-Code image entity to AVM Fritz!Tools ([@mib1185] - [#95282]) ([fritz docs]) ([fritzbox_callmonitor docs]) (new-platform) (noteworthy)
- Add mqtt image platform ([@jbouwh] - [#94769]) ([mqtt docs]) (new-platform) (noteworthy)
- Add image platform to the template integration ([@emontnemery] - [#94928]) ([template docs]) ([image docs]) (noteworthy)
- Add support for image entity (#16877) @bramkragten

{% enddetails %}

There is a brand new entity type in town: [Image entities](/integrations/image/).

The image entity is very similar to the [camera entity](/integrations/camera/),
but instead of providing a live stream, it provides a single image. For example,
a QR-code that provides the WiFi credentials for your guest network, a weather
map, an image of the last motion detected by your camera, or just the cute cat
picture of the day!

<p class='img'>
<img src='https://user-images.githubusercontent.com/5878303/247602059-8f3a322e-3e29-48a4-8b84-47dc22c9a878.png'></a>
Temporary screenshot that needs to be replaced.
</p>

Support for this brand new entity has been added to the [AVM Fritz!Box Tools](/integrations/fritz/),
for guest network access, and the [MQTT integration](/integrations/mqtt/) and
[Template integration](/integrations/template/) if you want to build your own.

## Copy 'n paste support in dashboards

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Show card positions in edit dashboard mode (#17055) @karwosts
- Support cut/copy/paste in dashboard UI editor (#16707) @karwosts

{% enddetails %}

In the previous release, [@karwosts] added the amazing [copy 'n paste feature](/blog/2023/06/07/release-20236/#copy-n-paste-support-in-the-automation-editor)
to our automation and script editors. This release, he is back with the same
feature for our dashboards!

You can now cut, copy, and paste cards between your dashboards, views and
even inside other nested cards. This makes it a lot easier to reorganize your
dashboards!

<p class='img'>
<img src='https://user-images.githubusercontent.com/32912880/242464648-bc2dd476-9acf-4ccf-a615-668f7dd949f1.gif'></a>
Temporary screenshot that needs to be replaced.
</p>

To make it even easier to reorganize your dashboards, it is mandatory to
understand the order of the cards across the differnt columns in your view.
So, a positional number is now shown when the your are in edit mode.

<p class='img'>
<img src='https://user-images.githubusercontent.com/32912880/249232766-b1a35c7c-d596-4cab-83dc-67502b1a3c58.png'></a>
Temporary screenshot that needs to be replaced.
</p>

Added bonus: Who needs drag 'n drop when you've got click 'n ...teleport? Click
on the number and you can input a new position for the card!

<video width="640" height="600" controls>
  <source src="https://cdn.discordapp.com/attachments/717500797684023327/1123631077819433020/CleanShot_2023-06-28_at_16.52.10.mp4" type="video/mp4">
</video>

[@karwosts]: https://github.com/karwosts

## New script dialog

When you create a new automation, you‚Äôll get a nice dialog where you can create
a new one from scratch or use one of your imported blueprints
as a starting point.

[@karwosts] has now added the same dialog to our script editor! üéâ

<img class="no-shadow" src='/images/blog/2023-07/new-script-dialog.png' alt='Screenshot of the dialog shown when creating a new script, allowing you to select blueprints as well.'>

Being able to set up scripts from Blueprints is great, as combined with the
brand new [service response](#services-call-can-now-respond) feature, these
become a lot more powerful and a lot more useful for sharing!

You can find new script Blueprints for you to use in the
[Blueprint Exchange on our community forum](https://community.home-assistant.io/tags/c/blueprints-exchange/53/script?ascending=false&order=views).

[@karwosts]: https://github.com/karwosts

## Select timezone to use/display

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Allow to show times in the UI in the timezone of the server (#16799) @bramkragten

{% enddetails %}

You can now select which timezone the Home Assistant interface should use
in your user profile. This is useful if you are traveling or if you have
family members in different timezones.

You can select to use the timezone of your current location, or you can
choose to use the timezone that your Home Assistant server is in. The
Home Assistant frontend will adjust all off the date & times to the
selected timezone.

## Iteration on the integrations dashboard

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

{% enddetails %}

Last release we introduced new [integrations dashboards & pages](/blog/2023/06/07/release-20236/#integrations-dashboard--pages),
which was very well received. Yet, there has been some feedback on the
dashboard, and we have been working on improving it.

The main goal, was to make it feel less busy and more familiar and consistent
with all other UI elements.

<p class='img'>
<img src='https://user-images.githubusercontent.com/5662298/249429574-eb6f4e82-2845-47f0-b488-4ddc8572bcfc.png'></a>
Temporary screenshot that needs to be replaced.
</p>

The cards shown are now more consistent with the rest of Home Assistant and the
full header item is now clickable. The cog, device and service items
have been removed and the indicators for custom integrations and cloud services
are no longer overlapping the logos.

## Reducing the risk of running into breaking changes

{% details "TODO" %}

- Decide if we should keep this?
  Maybe add it as an intro to the breaking changes section?
- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

{% enddetails %}

Breaking changes, nobody loves them, but they are sometimes necessary to move
forward. We try to keep them to an absolute minimum, but sometimes they are
inevitable.

However, we do want to reduce the risk of running into them. Therefore we have
adopted [a new policy for deprecating YAML integration configuration options][adr].

We now require that a YAML configuration option is deprecated for at least 6
months before it is removed. This means, if you skip a release or two, you won't
be running into a hard breaking change.

To even improve on this further, if possible, an automatic migration is required
and an issue in the repairs dashboard will be raised if the deprecation applies
to your configuration.

Hopefully this helps reducing the frustration of running into breaking changes.

[adr]: https://github.com/home-assistant/architecture/blob/master/adr/0021-YAML-integration-configuration-deprecation-policy.md

## Unavailable automations and scripts

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Set automations which fail validation unavailable ([@emontnery] - [#94856]) ([automation docs]) (noteworthy)
- Set scripts which fail validation unavailable ([@emontnemery] - [#95381]) ([script docs]) (noteworthy)
- Show if script is unavailable and why (#17051) @bramkragten
- Show if automation is unavailable and why (#17048) @bramkragten

{% enddetails %}

Automations and scripts are awesome! They can add a lot of comfort to your
home, but they have a weird quirk. If they have an error, they would just
disappear from Home Assistant.

This is no longer the case! If an automation or script has an error, it will
now show up as unavailable in the UI. Selecting such an automation will show
you the error message, so you know what is going on and what to fix.

<p class='img'>
<img src='https://user-images.githubusercontent.com/5662298/249156623-34640e20-daa9-4608-9348-dc35ca6e1732.png'></a>
Temporary screenshot that needs to be replaced.
</p>

<p class='img'>
<img src='https://user-images.githubusercontent.com/5662298/249156585-6ca2a73f-724f-49bc-9cff-66f2a1df7da5.png'></a>
Temporary screenshot that needs to be replaced.
</p>

## Lightning fast Bluetooth proxies

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

- Add support for ESPHome raw bluetooth advertisements ([@bdraco] - [#94138]) ([esphome docs]) (noteworthy)
- Bump bluetooth-data-tools to 1.2.0 ([@bdraco] - [#94696]) ([esphome docs]) ([bluetooth docs]) ([led_ble docs]) ([ld2410_ble docs]) (dependency) (noteworthy)

{% enddetails %}

Bluetooth proxies are now even faster! Like... really fast!
When using the latest ESPHome and this release of Home Assistant, it will
be so much faster that we should actually recommend using over an native
Bluetooth stick.

## Matter updates

{% details "TODO" %}

- Improve/extend story
- Proof read/spelling/grammar
- Replace screenshot

Sources:

- Change subscription logic for Matter devices ([@marcelveldt] - [#95387]) ([matter docs]) (dependency) (noteworthy)

{% enddetails %}

- Subscriptions are now optimized for larger (thread) networks, this improves speed and reliability.
- Startup time (especially with a large number of nodes) is now blazing fast (from minutes to seconds)
- Even faster state updates
- Changes to bridges are now instantly detected (e.g. adding a new bridged device or removing one)
- Better logging of all activity
- If one or more nodes are unavailable, it will no longer hold up subscriptions and interviews for other devices.
- Climate support has been added **(NOTE: pending merge, unsure...)**

## Other noteworthy changes

{% details "TODO" %}

- Proof read/spelling/grammar
- Last minute ones added?
- Go over list again, might have missed something

- **Note**: Changes processed up to PR 95432

{% enddetails %}

There are much more easter bunnies in this release; here are some of the other
noteworthy changes this release:

- The HomeKit Controller integration has been renamed to [HomeKit Device],
  this make it more clear that the integration is to integrate HomeKit devices
  into Home Assistant.
- [ESPHome] now has support for Alarm Control Panels! Thanks [@grahambrown11]!
- [Humidifiers] now have an attribute for the current humidity, thanks [@Shulyaka]!
  [@jbouwh] updated the [Google Assistant] integration to support this. Additionally,
  he added support to the [Xiaomi Miio], [HomeKit Device], [Tuya] and [MQTT] integrations.
  Awesome!
- The [Apple TV] integration now supports launching apps with [deeplinks]!
  Thanks [@michalmo]!
- [@dougiteixeira] adjusted the [Derivative], [Riemann sum integral],
  [Threshold] and [Utility Meter] helper to add the helper to the source device.
  This makes them show up on the device page of the device the helper is using.
  Nice work!
- The [MQTT][mqtt_water_heater] integration has now support for water heaters,
  thanks [@hookedonunix]!
- [@Lash-L] keept on improving the [Roborock] integration and added cleaning
  area sensors and switches to control DnD mode. Thanks!
- You can now dismiss all [persistent notifications] at one using the new
  dismiss all service added by [@Petro31]!

[@dougiteixeira]: https://github.com/dougiteixeira
[@grahambrown11]: https://github.com/grahambrown11
[@hookedonunix]: https://github.com/hookedonunix
[@jbouwh]: https://github.com/jbouwh
[@Lash-L]: https://github.com/Lash-L
[@michalmo]: https://github.com/michalmo
[@Petro31]: https://github.com/Petro31
[@Shulyaka]: https://github.com/Shulyaka
[Apple TV]: /integrations/apple_tv/
[deeplinks]: /integrations/apple_tv/#launching-apps
[Derivative]: /integrations/derivative/
[ESPHome]: /integrations/esphome/
[Google Assistant]: /integrations/google_assistant/
[HomeKit Device]: /integrations/homekit_controller/
[Humidifiers]: /integrations/humidifier/
[mqtt_water_heater]: /integrations/water_heater.mqtt/
[MQTT]: /integrations/mqtt/
[persistent notifications]: /integrations/persistent_notification/
[Riemann sum integral]: /integrations/integration/
[Roborock]: /integrations/roborock/
[Threshold]: /integrations/threshold/
[Tuya]: /integrations/tuya/
[Utility Meter]: /integrations/utility_meter/
[Xiaomi Miio]: /integrations/xiaomi_miio/

Still to process:

- Add optional limits to compensation sensors (@Petro31 - #85886)

- Samba shares mounts now work with guests mounts
- Samba version 1 mounts now work

- Device automations now use entity registry IDs instead of entity IDs
- Add set_config service to Fully Kiosk Browser integration (@cgarwood - #95318)
- Update humidifier Ui with current humidity and action (#17072) @piitaya
- Add basic assist dev tools (#17062) @piitaya
- Ingress: offer to start addon on ingress page (#16458) @bramkragten
- Align humidifier thermostat card (#17054) @piitaya
- Add persistent_notification trigger (#16967) @RoboMagus
- Allow continue_on_error in the UI action editor (#16834) @karwosts

- Implement Apparent temperature in Weather entity component ([@gjohansson-ST] - [#95070])
- Implement dew point in weather entity component ([@gjohansson-ST] - [#95072])
- Implement Cloud coverage in Weather entity component ([@gjohansson-ST] - [#95068])
- Implement Wind Gust speed in Weather entity component ([@gjohansson-ST] - [#95065])
- Add humidity to weather forecast ([@vingerha] - [#95064])
- Add new properties to the weather entity in Accuweather integration ([@bieniu] - [#95110])
- Use new attributes in Met ([@gjohansson-ST] - [#95099])
- Add new attributes into Template Weather ([@gjohansson-ST] - [#95100])

## New integrations

We welcome the following new integrations in this release:

- **[Discovergy]**, added by [@jpbede]<br />
  Read out your Discovergy gas and electricity meters.
- **[Dremel 3D Printer]**, added by [@tkdrob]<br />
  Monitor your Dremel 3D printer and its printing progress.
- **[Renson]**, added by [@jimmyd-be]<br />
  Monitor your Renson ventilation system.
- **[Image]**, added by [@emontnemery]<br />
  A new entity type that is like a camera, but specifically for images.
- **[LOQED Touch Smart Lock]**, added by [@cpolhout]<br />
  Control your LOQED smart lock.

[@cpolhout]: https://github.com/cpolhout
[@emontnemery]: https://github.com/emontnemery
[@jimmyd-be]: https://github.com/jimmyd-be
[@jpbede]: https://github.com/jpbede
[@tkdrob]: https://github.com/tkdrob
[Discovergy]: /integrations/discovergy
[Dremel 3D Printer]: /integrations/dremel_3d_printer
[Image]: /integrations/image
[LOQED Touch Smart Lock]: /integrations/loqed
[Renson]: /integrations/renson

## Integrations now available to set up from the UI

The following integrations are now available via the Home Assistant UI:

- **[myStrom]**, done by [@pail23]
- **[Google Translate text-to-speech]**, done by [@MartinHjelmare]
- **[Linn / Openhome]**, done by [@bazwilliams]
- **[QNAP]**, done by [@disforw]

[@bazwilliams]: https://github.com/bazwilliams
[@disforw]: https://github.com/disforw
[@MartinHjelmare]: https://github.com/MartinHjelmare
[@pail23]: https://github.com/pail23
[Google Translate text-to-speech]: /integrations/google_translate
[Linn / Openhome]: /integrations/openhome
[myStrom]: /integrations/mystrom
[QNAP]: /integrations/qnap

## Need help? Join the community!

Home Assistant has a great community of users who are all more than willing
to help each other out. So, join us!

Our very active [Discord chat server](/join-chat) is an excellent place to be
at, and don't forget to join our amazing [forums](https://community.home-assistant.io/).

Found a bug or issue? Please report it in our [issue tracker](https://github.com/home-assistant/core/issues),
to get it fixed! Or, check [our help page](/help) for guidance for more
places you can go.

Are you more into email? [Sign-up for our Building the Open Home Newsletter](/newsletter)
to get the latest news about features, things happening in our community and
other news about building an Open Home; straight into your inbox.

## Breaking changes

{% details "Home Assistant Container (Docker)" %}

If you use the Home Assistant Container installation method, for example, using
Docker, please make sure you are using our official (multi-platform) images.

The correct and preferred image to use for our stable releases is:

- `ghcr.io/home-assistant/home-assistant:stable`

Although not the preferred location by the Home Assistant project, the image
is also available on DockerHub:

- `homeassistant/home-assistant:stable`

The reason for mentioning this in this breaking change section is that we have
seen usage of our internal, intermediate, platform build images. These images
are not meant for use directly, and using the above listed images is strongly
recommended.

As of this release, we no longer publish our intermediate platform images to
DockerHub. This means that if you are using these images, you will no longer
receive updates. Please use the above-listed images instead.

([@pvizeli] - [#95236])

[@pvizeli]: https://github.com/pvizeli
[#95236]: https://github.com/home-assistant/core/pull/95236

{% enddetails %}

{% details "Bose SoundTouch" %}

The previously deprecated YAML configuration of the Bose SoundTouch
integration has been removed.

Bose SoundTouch is now configured via the UI. Any existing YAML
configuration has been imported in previous releases and can now be safely
removed from your YAML configuration files.

([@gjohansson-ST] - [#94090]) ([documentation](/integrations/soundtouch))

[@gjohansson-ST]: https://github.com/gjohansson-ST
[#94090]: https://github.com/home-assistant/core/pull/94090

{% enddetails %}

{% details "Conversation" %}

When using the Assist shortcut on iOS, it will now always talk to Home Assistant
conversation agent even if the OpenAI or Google LLM conversation integrations
are set up.

([@balloob] - [#95225]) ([documentation](/integrations/conversation))

[@balloob]: https://github.com/balloob
[#95225]: https://github.com/home-assistant/core/pull/95225

{% enddetails %}

{% details "ESPHome" %}

As an additional security hardening measure, the default for allowing ESPHome
devices to make service calls has changed. If you want to permit the ESPHome
device to make service calls, it must be enabled in the options flow.

- For existing devices, calling Home Assistant services continues to be allowed.
- For newly configured devices, it must now be enabled in the options flow.

([@bdraco] - [#95143]) ([documentation](/integrations/esphome))

[@bdraco]: https://github.com/bdraco
[#95143]: https://github.com/home-assistant/core/pull/95143

{% enddetails %}

{% details "Home Assistant Supervisor" %}

The default name given to backups created with the `hassio.full_backup`
and `hassio.partial_backup` services is now longer `""` but the date and time
the backup was initiated (`%Y-%m-%d %H:%M:%S`, for example,
"2023-07-05 13:37:42").

([@ludeeus] - [#94468]) ([documentation](/integrations/hassio))

[@ludeeus]: https://github.com/ludeeus
[#94468]: https://github.com/home-assistant/core/pull/94468

{% enddetails %}

{% details "MQTT" %}

If the `initial` temperature, `min_temp`, or `max_temp` is not set, the default
temperature will be converted to the set `temperature_unit` or system default
temperature unit if this is not degrees Celsius.

([@jbouwh] - [#93965]) ([documentation](/integrations/mqtt))

[@jbouwh]: https://github.com/jbouwh
[#93965]: https://github.com/home-assistant/core/pull/93965

---

The behavior of MQTT climate when `power_command_topic` is set has been changed:

- The `hvac_mode` state attribute is no longer optimistically set if
  `power_command_topic` is defined and `climate.turn_on` or `climate.turn_off`
  is called.
- When `hvac_mode` is changed, `payload_on` or `payload_off` messages will
  not be published on the `power_command_topic`.

This also means `power_command_topic` is no longer deprecated.

([@jbouwh] - [#94832]) ([documentation](/integrations/mqtt))

[@jbouwh]: https://github.com/jbouwh
[#94832]: https://github.com/home-assistant/core/pull/94832

{% enddetails %}

{% details "MusicCast" %}

If you have any automation depending on the `source` state attribute of the
media player entity, you will have to update these, because we want to show
more user friendly values such as "Net Radio" instead of net_radio. Calling
the `select_source` service will still be possible using the old source names.

([@micha91] - [#74954]) ([documentation](/integrations/yamaha_musiccast))

[@micha91]: https://github.com/micha91
[#74954]: https://github.com/home-assistant/core/pull/74954

{% enddetails %}

{% details "SMHI" %}

The attribute `cloudiness` has been replaced by the attribute `cloud_coverage`.
Please update any automation or scripts that is using this attribute to use the
newly added `cloud_coverage` attribute.

([@gjohansson-ST] - [#95096]) ([documentation](/integrations/smhi))

[@gjohansson-ST]: https://github.com/gjohansson-ST
[#95096]: https://github.com/home-assistant/core/pull/95096

{% enddetails %}

{% details "Slack" %}

The previously deprecated YAML configuration of the Slack
integration has been removed.

Slack is now configured via the UI. Any existing YAML
configuration has been imported in previous releases and can now be safely
removed from your YAML configuration files.

([@gjohansson-ST] - [#94106]) ([documentation](/integrations/slack))

[@gjohansson-ST]: https://github.com/gjohansson-ST
[#94106]: https://github.com/home-assistant/core/pull/94106

{% enddetails %}

{% details "Xbox" %}

The previously deprecated YAML configuration of the Xbox
integration has been removed.

Xbox is now configured via the UI. Any existing YAML
configuration has been imported in previous releases and can now be safely
removed from your YAML configuration files.

([@gjohansson-ST] - [#94094]) ([documentation](/integrations/xbox))

[@gjohansson-ST]: https://github.com/gjohansson-ST
[#94094]: https://github.com/home-assistant/core/pull/94094

{% enddetails %}

{% details "Z-Wave" %}

Fan speed percentage for Honeywell(JE/Jasco) 39358 and Enbrighten(GE/Jasco)
55258 in wall fan controllers are now mapped to levels (low, medium, high).

This may affect scripts or automatons setting fan speeds to specific percentages.

([@jgrieger1] - [#92371]) ([documentation](/integrations/zwave_js))

[@jgrieger1]: https://github.com/jgrieger1
[#92371]: https://github.com/home-assistant/core/pull/92371

{% enddetails %}

If you are a custom integration developer and want to learn about breaking
changes and new features available for your integration: Be sure to follow our
[developer blog][devblog]. The following are the most notable for this release:

- [Changes to entity naming](https://developers.home-assistant.io/blog/2023/06/28/entity-name-changes)
- [Service Call API changes](https://developers.home-assistant.io/blog/2023/06/14/service-calls)
- [Service call description filters](https://developers.home-assistant.io/blog/2023/06/28/service-description-filters)

[devblog]: https://developers.home-assistant.io/blog/

## Farewell to the following

The following integrations are also no longer available as of this release:

- **SenseME** has been removed. Big Ass Fans changed the protocol in a newer
  firmware in April 2022. The [Big Ass Fans integration] can be used
  as a replacement, after updating the latest firmware.
  ([@bdraco] - [#94363])

[@bdraco]: https://github.com/bdraco
[#94363]: https://github.com/home-assistant/core/pull/94363
[Big Ass Fans integration]: /integrations/baf

## All changes

Of course, there is a lot more in this release. You can find a list of
all changes made here: [Full changelog for Home Assistant Core 2023.7](/changelogs/core-2023.7)
